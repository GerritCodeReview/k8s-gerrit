{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c12420cc_bea263f5",
        "filename": "Documentation/examples/gerritcluster-2-nodes.yaml",
        "patchSetId": 31
      },
      "lineNbr": 16,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-24T09:44:43Z",
      "side": 1,
      "message": "If rebased on top of 405561, this should be removed.",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fca45aec_b3171598",
        "filename": "Documentation/examples/gerritcluster-2-nodes.yaml",
        "patchSetId": 31
      },
      "lineNbr": 16,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-07T10:58:56Z",
      "side": 1,
      "message": "The change you mentioned is about the documentation. Can you please expand on this?",
      "parentUuid": "c12420cc_bea263f5",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "294f5125_806c2aab",
        "filename": "Documentation/examples/gerritcluster-2-nodes.yaml",
        "patchSetId": 31
      },
      "lineNbr": 16,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-06-07T13:36:27Z",
      "side": 1,
      "message": "The change adds the documentation about installing Gerrit in Minikube and adds the first examples. These examples already contain the secret and thus it should not be necessary to add it again.",
      "parentUuid": "fca45aec_b3171598",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ea72f8a0_08423562",
        "filename": "Documentation/examples/gerritcluster-2-nodes.yaml",
        "patchSetId": 31
      },
      "lineNbr": 16,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-19T06:58:46Z",
      "side": 1,
      "message": "The change you mentioned is not merged, and it is not part of this chain of changes. I would not like to create another blocker. Once the chain is merged with the documentation also we can remove this.",
      "parentUuid": "294f5125_806c2aab",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4183b503_0223d751",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/initializer/config/cluster_mode.py",
        "patchSetId": 31
      },
      "lineNbr": 0,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-24T09:44:43Z",
      "side": 1,
      "message": "nit: missing license header",
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "960b5fb6_964758fb",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/initializer/config/cluster_mode.py",
        "patchSetId": 31
      },
      "lineNbr": 0,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-06T07:48:25Z",
      "side": 1,
      "message": "Acknowledged. This will also fix the unrelated change for this comment [1] in change 409747\n\n[1]: https://gerrit-review.googlesource.com/c/k8s-gerrit/+/409747/comment/06f6e551_97115ad4/",
      "parentUuid": "4183b503_0223d751",
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9573e757_3cce6388",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/initializer/config/cluster_mode.py",
        "patchSetId": 31
      },
      "lineNbr": 0,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-19T06:58:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "960b5fb6_964758fb",
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad93c7f3_ad4521d8",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/initializer/tasks/init.py",
        "patchSetId": 31
      },
      "lineNbr": 49,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-24T09:44:43Z",
      "side": 1,
      "message": "As far as I could see, the only difference between HA and Multisite in this method was whether Gerrit Replicas are supported or not. I don\u0027t believe that warrants a different implementation.\nHowever, we might consider a different implementation for replicas instead of using if statements. That should however go into a separate change.",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 49,
        "endChar": 12
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "60bc4435_55b0c140",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/initializer/tasks/init.py",
        "patchSetId": 31
      },
      "lineNbr": 49,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-06T07:48:25Z",
      "side": 1,
      "message": "That was done following the suggestion of this comment [1].\nI believe that if we start having different implementation of the init() method for each cluster mode, than is much more readable to keep the execute() logic in the concrete implementation for each mode.\n\n\n[1]: https://gerrit-review.googlesource.com/c/k8s-gerrit/+/409745/comment/6fa6f70f_7e7846dd/",
      "parentUuid": "ad93c7f3_ad4521d8",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 49,
        "endChar": 12
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce70e048_241ac8ca",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/initializer/tasks/init.py",
        "patchSetId": 31
      },
      "lineNbr": 49,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-06-07T06:29:26Z",
      "side": 1,
      "message": "Noted, but what I meant is, that the execute() method is not really different or rather the only difference is the check for the replica. Since multisite will never apply to a Gerrit Replica (at least right now) that check will always return false anyways, so I don\u0027t see the need of having multiple implementations.\n\nIf at all, I would suggest to have different implementations based on it being a primary or replica. But that should be a different change.",
      "parentUuid": "60bc4435_55b0c140",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 49,
        "endChar": 12
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b835ed1_d3d4ab45",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/initializer/tasks/init.py",
        "patchSetId": 31
      },
      "lineNbr": 49,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-19T06:58:46Z",
      "side": 1,
      "message": "I have adressed it as you suggested, anyway IMHO it is easier to read, maintain and evolve the execute() if there are different implementations for different modes.",
      "parentUuid": "ce70e048_241ac8ca",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 49,
        "endChar": 12
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd1f0317_375f44d9",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/main.py",
        "patchSetId": 31
      },
      "lineNbr": 35,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-24T09:44:43Z",
      "side": 1,
      "message": "Since we are using Python \u003e 3.10, use match-case statements. That would be more explicit and more readable.",
      "range": {
        "startLine": 35,
        "startChar": 8,
        "endLine": 35,
        "endChar": 10
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "461483a8_beb8824f",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/main.py",
        "patchSetId": 31
      },
      "lineNbr": 35,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-06T07:48:25Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "dd1f0317_375f44d9",
      "range": {
        "startLine": 35,
        "startChar": 8,
        "endLine": 35,
        "endChar": 10
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae513356_4217f930",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/main.py",
        "patchSetId": 31
      },
      "lineNbr": 35,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-19T06:58:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "461483a8_beb8824f",
      "range": {
        "startLine": 35,
        "startChar": 8,
        "endLine": 35,
        "endChar": 10
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "476c6f4b_8f6fe3e5",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/OperatorModule.java",
        "patchSetId": 31
      },
      "lineNbr": 57,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-24T09:44:43Z",
      "side": 1,
      "message": "This is not really Guice code and could be done in Main.",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 57,
        "endChar": 57
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5685c47b_6909f444",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/OperatorModule.java",
        "patchSetId": 31
      },
      "lineNbr": 57,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-07T10:58:56Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "476c6f4b_8f6fe3e5",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 57,
        "endChar": 57
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e3f3c5b0_afbd50b8",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/OperatorModule.java",
        "patchSetId": 31
      },
      "lineNbr": 57,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-19T06:58:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5685c47b_6909f444",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 57,
        "endChar": 57
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc7527c5_1af916ce",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/OperatorModule.java",
        "patchSetId": 31
      },
      "lineNbr": 65,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-24T09:44:43Z",
      "side": 1,
      "message": "Since this is the same in `if` and `else`, move it to after the if-statement.",
      "range": {
        "startLine": 65,
        "startChar": 6,
        "endLine": 65,
        "endChar": 58
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "561b2b82_0eeeb8c9",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/OperatorModule.java",
        "patchSetId": 31
      },
      "lineNbr": 65,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-06T07:48:25Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "cc7527c5_1af916ce",
      "range": {
        "startLine": 65,
        "startChar": 6,
        "endLine": 65,
        "endChar": 58
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd83b133_2797bf24",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/OperatorModule.java",
        "patchSetId": 31
      },
      "lineNbr": 65,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-06-19T06:58:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "561b2b82_0eeeb8c9",
      "range": {
        "startLine": 65,
        "startChar": 6,
        "endLine": 65,
        "endChar": 58
      },
      "revId": "91a5af2195aab1b8f5a8e5670c063896d81f4d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}