{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9f515473_738175e1",
        "filename": "Documentation/examples/gerritcluster-2-nodes.yaml",
        "patchSetId": 12
      },
      "lineNbr": 48,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-14T06:41:47Z",
      "side": 1,
      "message": "Since this is not changing between examples, should we move it into a separate file?",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 48,
        "endChar": 3
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "876dd369_7245e7eb",
        "filename": "Documentation/examples/gerritcluster-2-nodes.yaml",
        "patchSetId": 12
      },
      "lineNbr": 48,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-05-14T12:56:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9f515473_738175e1",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 48,
        "endChar": 3
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6fa6f70f_7e7846dd",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/initializer/tasks/init.py",
        "patchSetId": 12
      },
      "lineNbr": 131,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-14T06:41:47Z",
      "side": 1,
      "message": "this should be added to the previous block, since it also not required in the multisite setup",
      "range": {
        "startLine": 129,
        "startChar": 8,
        "endLine": 131,
        "endChar": 68
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71f96571_4e24e03a",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/initializer/tasks/init.py",
        "patchSetId": 12
      },
      "lineNbr": 131,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-05-14T12:56:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6fa6f70f_7e7846dd",
      "range": {
        "startLine": 129,
        "startChar": 8,
        "endLine": 131,
        "endChar": 68
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91a9d9cc_bdc3ddf5",
        "filename": "container-images/gerrit-init/tools/gerrit-initializer/initializer/tasks/init.py",
        "patchSetId": 12
      },
      "lineNbr": 131,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-05-14T12:59:07Z",
      "side": 1,
      "message": "I would propose to avoid such coding patterns and instead create subclasses of this class for the HA and Multisite setup. We can name them like `GerritInitHA` and `GerritInitMultisite`.",
      "parentUuid": "6fa6f70f_7e7846dd",
      "range": {
        "startLine": 129,
        "startChar": 8,
        "endLine": 131,
        "endChar": 68
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6fc7a9fa_8aac8eaf",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/OperatorContext.java",
        "patchSetId": 12
      },
      "lineNbr": 31,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-14T06:41:47Z",
      "side": 1,
      "message": "Why not use Guice and make it a Singleton using `@Singleton`?\nMight not be possible, since Guice does not work well with DependentResources, but might be worth a try in a later iteration.",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 3
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fb0254e_75c7c04f",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/cluster/GerritClusterMultisiteReconciler.java",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-14T06:41:47Z",
      "side": 1,
      "message": "Should we extend the GerritClusterReconciler or use a shared base class to avoid duplication, e.g. in creating some event sources?",
      "range": {
        "startLine": 45,
        "startChar": 13,
        "endLine": 45,
        "endChar": 45
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce023aeb_7e3f05e1",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/cluster/GerritClusterMultisiteReconciler.java",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2024-05-15T04:21:25Z",
      "side": 1,
      "message": "We addressed this comment but IMO the code now is less intuitive and difficult to read.",
      "parentUuid": "2fb0254e_75c7c04f",
      "range": {
        "startLine": 45,
        "startChar": 13,
        "endLine": 45,
        "endChar": 45
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f5bcaffa_754eb2ed",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/cluster/GerritClusterMultisiteReconciler.java",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-05-15T09:34:34Z",
      "side": 1,
      "message": "A class hierarchy like this would make sense if we can factor out common behaviour into the base class, not just some (utility) methods. So the main question is: can we move the `reconcile` method into the base class? If not, then an abstract base class is not that useful.",
      "parentUuid": "ce023aeb_7e3f05e1",
      "range": {
        "startLine": 45,
        "startChar": 13,
        "endLine": 45,
        "endChar": 45
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c5b116ab_b64e0899",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/cluster/GerritClusterMultisiteReconciler.java",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2024-05-15T10:50:02Z",
      "side": 1,
      "message": "+1 \nBoth reconcilers definitively cannot have the same reconcilers because the setups are different. There is space to do some refactoring but IMHO we would not get much benefit from that, maybe even the opposite.",
      "parentUuid": "f5bcaffa_754eb2ed",
      "range": {
        "startLine": 45,
        "startChar": 13,
        "endLine": 45,
        "endChar": 45
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0af95662_7507a0ed",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/gerrit/dependent/GerritStatefulSet.java",
        "patchSetId": 12
      },
      "lineNbr": 124,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-05-14T06:41:47Z",
      "side": 1,
      "message": "This and the following refactorings are unrelated to the main purpose of this change, please move them to a separate change.",
      "range": {
        "startLine": 124,
        "startChar": 4,
        "endLine": 124,
        "endChar": 96
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "90a90ade_6869977c",
        "filename": "operator/src/main/java/com/google/gerrit/k8s/operator/gerrit/dependent/GerritStatefulSet.java",
        "patchSetId": 12
      },
      "lineNbr": 124,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2024-05-14T12:56:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0af95662_7507a0ed",
      "range": {
        "startLine": 124,
        "startChar": 4,
        "endLine": 124,
        "endChar": 96
      },
      "revId": "2fe8cb434e9b685205d2e05a47caec565adcbb18",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}